{% extends 'logged.html' %}
{%- block styles %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='teamForm.css') }}">
{%-  endblock styles %}
{%- block title %}Muokkaa{% endblock title %}
{% block content %}
{{ super() }}
<div id="editing" class="form">
  <form class="edit" method="POST" action="/login">
    {{ team_form.csrf_token }}
    <h1>Joukkueen muokkaus</h1>
    {{ with_errors(team_form.name) }}
    {{ with_errors(team_form.series) }}
    {{ with_errors(team_form.mem1) }}
    {{ with_errors(team_form.mem2) }}
    {{ with_errors(team_form.mem3) }}
    {{ with_errors(team_form.mem4) }}
    {{ with_errors(team_form.mem5) }}
    <input type="submit" value="Tallenna">
  </form>
</div>
{% endblock content %}

{% macro with_errors(field) %}
<div class="form-field">
  {%- if field.errors %}
  {%- set css_class = 'has_error'%}
  {{ field.label }}{{ field(class=css_class, **kwargs) }}
  <ul class="errors">{% for error in field.errors %}<li>{{ error|e }}</li>{% endfor %}</ul>
  {%- else %}
  {{ field.label }}{{ field(class="txt-inpt") }}
  {%- endif %}
</div>
{% endmacro %}